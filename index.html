
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>æ¨¡æ“¬æ¼¢å ¡ç‹å°ç£æ‰‹æ©Ÿé»é¤ç³»çµ±ï¼ˆæœ¬åœ°åœ–ç‰‡ç‰ˆï¼‰</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
<header>
  <h1>æ¼¢å ¡ç‹é»é¤æ¨¡æ“¬</h1>
  <div id="store-info">è«‹é¸æ“‡åº—èˆ–</div>
</header>

<nav class="category-nav" id="categoryNav"></nav>
<main id="menu"></main>
<button id="cart-button">
  ğŸ›’<span id="cart-count">0</span>
</button>

<!-- åº—èˆ–èˆ‡å–é¤æ™‚é–“é¸æ“‡ -->
<div class="overlay" id="store-overlay" style="display:flex;">
  <div class="modal">
    <h2>é¸æ“‡åº—èˆ–èˆ‡å–é¤æ™‚é–“</h2>
    <div class="form-group">
      <label for="store-select">åº—èˆ–</label>
      <select id="store-select"></select>
    </div>
    <div class="form-group">
      <label for="pickup-time">å–é¤æ™‚é–“ (å¿…å¡«)</label>
      <input type="text" id="pickup-time" placeholder="14:30" />
    </div>
    <button class="btn btn-block" id="confirm-store">é–‹å§‹é»é¤</button>
  </div>
</div>

<!-- è‡ªè¨‚å“é …æ¨¡æ…‹ -->
<div class="overlay" id="customize-overlay">
  <div class="modal" id="customize-modal">
    <button class="close-btn" id="close-customize">Ã—</button>
    <h2 id="customize-title"></h2>
    <div id="customize-content"></div>
    <button class="btn btn-block" id="add-to-cart">åŠ å…¥è³¼ç‰©è»Š</button>
  </div>
</div>

<!-- è³¼ç‰©è»Šæ¨¡æ…‹ -->
<div class="overlay" id="cart-overlay">
  <div class="modal" id="cart-modal">
    <button class="close-btn" id="close-cart">Ã—</button>
    <h2>è³¼ç‰©è»Š</h2>
    <div id="cart-items"></div>
    <div class="cart-summary">åˆè¨ˆï¼šNT$ <span id="cart-total">0</span></div>
    <button class="btn btn-block" id="checkout-btn">çµå¸³</button>
  </div>
</div>

<!-- çµå¸³ç¢ºèªæ¨¡æ…‹ -->
<div class="overlay" id="checkout-overlay">
  <div class="modal" id="checkout-modal">
    <h2>ç¢ºèªè¨‚å–®</h2>
    <div id="checkout-summary"></div>
    <div class="cart-summary">ç¸½è¨ˆï¼šNT$ <span id="checkout-total">0</span></div>
    <button class="btn btn-block secondary" id="edit-order">ä¿®æ”¹</button>
    <button class="btn btn-block" id="finish-order">å®Œæˆè¨‚å–®</button>
  </div>
</div>

<script>
// è³‡æ–™æ¨¡å‹
const stores = [
  { id: 'tainan-west', name: 'å°å—å®‰å¹³åº—' },
  { id: 'tainan-east', name: 'å°å—æ±é–€åº—' },
  { id: 'kaohsiung', name: 'é«˜é›„æ¼¢ç¥åº—' },
  { id: 'taichung', name: 'å°ä¸­ä¸­æ¸¯åº—' },
  { id: 'taipei-station', name: 'å°åŒ—è»Šç«™åº—' }
];

// æœ¬åœ°åœ–ç‰‡è·¯å¾‘
const IMG_DIR = '';
const PLACEHOLDER = IMG_DIR + 'placeholder.jpg';

// èœå–®
const categories = [
  {
    id: 'beef',
    name: 'ç‰›è‚‰å ¡',
    items: [
      { id: 'whopper', name: 'è¯å ¡', desc: 'æ‹›ç‰Œç«çƒ¤ç‰›è‚‰æ­é…ç•ªèŒ„ã€ç”Ÿèœã€æ´‹è”¥èˆ‡é†¬æ–™', imageSrc: IMG_DIR + 'whopper.jpg', single: 144, set: 189 },
      { id: 'spicy-whopper', name: 'è¾£å‘³è¯å ¡', desc: 'è¯å ¡åŠ ä¸Šè¾£é†¬ï¼Œåˆºæ¿€å‘³è•¾', imageSrc: IMG_DIR + 'spicy-whopper.jpg', single: 144, set: 189 },
      { id: 'double-whopper', name: 'é›™å±¤è¯å ¡', desc: 'å…©ç‰‡ç«çƒ¤ç‰›è‚‰ç‰‡æ­é…ç¶“å…¸é…æ–™', imageSrc: IMG_DIR + 'double-whopper.jpg', single: 204, set: 249 },
      { id: 'angus-peanut', name: 'èŠ±ç”Ÿå®‰æ ¼æ–¯ç‰›å ¡', desc: 'å®‰æ ¼æ–¯ç‰›è‚‰åŠ ä¸Šæ¿ƒéƒèŠ±ç”Ÿé†¬', imageSrc: IMG_DIR + 'angus-peanut.jpg', single: 155, set: 200 },
      { id: 'angus-black-pepper', name: 'é»‘èƒ¡æ¤’å®‰æ ¼æ–¯ç‰›å ¡', desc: 'å®‰æ ¼æ–¯ç‰›è‚‰æ­é…é»‘èƒ¡æ¤’é†¬æ±', imageSrc: IMG_DIR + 'angus-black-pepper.jpg', single: 155, set: 200 },
      { id: 'bacon-double', name: 'åŸ¹æ ¹é›™å±¤ç‰›å ¡', desc: 'é›™å±¤ç«çƒ¤ç‰›è‚‰èˆ‡é¦™è„†åŸ¹æ ¹', imageSrc: IMG_DIR + 'bacon-double.jpg', single: 229, set: 274 }
    ]
  },
  {
    id: 'chicken',
    name: 'é›è‚‰/æµ·é®®å ¡',
    items: [
      { id: 'king-chicken', name: 'åœ‹ç‹å¤§é›å ¡', desc: 'é…¥è„†é›æ’é…ä¸Šç”Ÿèœèˆ‡ç¾ä¹ƒæ»‹', imageSrc: IMG_DIR + 'king-chicken.jpg', single: 139, set: 184 },
      { id: 'double-king-chicken', name: 'é›™å±¤å¤§é›å ¡', desc: 'å…©ç‰‡é›æ’æ›´æ»¿è¶³', imageSrc: IMG_DIR + 'double-king-chicken.jpg', single: 219, set: 264 },
      { id: 'fish-burger', name: 'é±ˆé­šå ¡', desc: 'é…¥è„†é±ˆé­šæ’æ­é…å¡”å¡”é†¬', imageSrc: IMG_DIR + 'fish-burger.jpg', single: 129, set: 174 },
      { id: 'buffalo-double', name: 'æ°´ç‰›åŸé›™å±¤ç‰›å ¡', desc: 'å¾®è¾£é†¬æ±èˆ‡é›™å±¤ç‰›è‚‰', imageSrc: IMG_DIR + 'buffalo-double.jpg', single: 189, set: 234 }
    ]
  },
  {
    id: 'sides',
    name: 'é…é¤/é»å¿ƒ',
    items: [
      { id: 'fries-small', name: 'è–¯æ¢(å°)', desc: 'é‡‘é»ƒé…¥è„†è–¯æ¢', imageSrc: IMG_DIR + 'fries-small.jpg', single: 40 },
      { id: 'fries-medium', name: 'è–¯æ¢(ä¸­)', desc: 'æš¢éŠ·å¿…é»ç¶“å…¸è–¯æ¢', imageSrc: IMG_DIR + 'fries-medium.jpg', single: 55 },
      { id: 'onion-rings', name: 'æ´‹è”¥åœˆ', desc: 'è„†ç”œæ´‹è”¥åœˆ', imageSrc: IMG_DIR + 'onion-rings.jpg', single: 49 },
      { id: 'chicken-nuggets', name: 'é›å¡Š(6å¡Š)', desc: 'å¤–é…¥å…§å«©é›å¡Š', imageSrc: IMG_DIR + 'chicken-nuggets.jpg', single: 65 },
      { id: 'sweet-potato-fries-s', name: 'åœ°ç“œè–¯æ¢(å°)', desc: 'é¦™ç”œåœ°ç“œè–¯æ¢', imageSrc: IMG_DIR + 'sweet-potato-fries-s.jpg', single: 39 },
      { id: 'sweet-potato-fries-l', name: 'åœ°ç“œè–¯æ¢(å¤§)', desc: 'ä»½é‡åŠ å€çš„é¦™ç”œåœ°ç“œè–¯æ¢', imageSrc: IMG_DIR + 'sweet-potato-fries-l.jpg', single: 58 },
      { id: 'buffalo-wings', name: 'æ°´ç‰›åŸé›ç¿…', desc: 'å¾®è¾£é¦™é…¥é›ç¿…å…©éš»', imageSrc: IMG_DIR + 'buffalo-wings.jpg', single: 69 }
    ]
  },
  {
    id: 'drinks',
    name: 'é£²æ–™',
    items: [
      { id: 'coke-s', name: 'å¯æ¨‚(å°)', desc: '', imageSrc: IMG_DIR + 'coke-s.jpg', single: 35 },
      { id: 'coke-m', name: 'å¯æ¨‚(ä¸­)', desc: '', imageSrc: IMG_DIR + 'coke-m.jpg', single: 45 },
      { id: 'coke-l', name: 'å¯æ¨‚(å¤§)', desc: '', imageSrc: IMG_DIR + 'coke-l.jpg', single: 55 },
      { id: 'tea-m', name: 'ç´…èŒ¶(ä¸­)', desc: '', imageSrc: IMG_DIR + 'tea-m.jpg', single: 45 },
      { id: 'tea-l', name: 'ç´…èŒ¶(å¤§)', desc: '', imageSrc: IMG_DIR + 'tea-l.jpg', single: 55 },
      { id: 'coffee', name: 'å’–å•¡', desc: '', imageSrc: IMG_DIR + 'coffee.jpg', single: 50 }
    ]
  },
  {
    id: 'value',
    name: 'è¶…å€¼é¤',
    items: [
      { id: 'family-set', name: 'å®¶åº­åˆ†äº«é¤', desc: 'å››å ¡å››è–¯å››é£²ï¼Œé©åˆå…¨å®¶äº«ç”¨', imageSrc: IMG_DIR + 'family-set.jpg', single: 479 },
      { id: 'double-value', name: 'é›™äººè¶…å€¼é¤', desc: 'å…©å ¡å…©é…å…©é£²ï¼Œç¶“æ¿Ÿå¯¦æƒ ', imageSrc: IMG_DIR + 'double-value.jpg', single: 299 },
      { id: 'one-plus-one', name: '1+1 ä»»é¸é¤', desc: 'ä»»é¸å…©æ¨£å°é»æˆ–é£²å“', imageSrc: IMG_DIR + 'one-plus-one.jpg', single: 129 }
    ]
  }
];

// è³¼ç‰©è»Šé™£åˆ—
let cart = [];
let selectedItem = null;

// åˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', () => {
  const storeSelect = document.getElementById('store-select');
  stores.forEach(store => {
    const option = document.createElement('option');
    option.value = store.id; option.textContent = store.name; storeSelect.appendChild(option);
  });
  document.getElementById('confirm-store').addEventListener('click', () => {
    const selectedStoreId = storeSelect.value;
    const time = document.getElementById('pickup-time').value;
    let pickupTime = time || 'å³åˆ»å–é¤';
    const storeName = stores.find(s => s.id === selectedStoreId).name;
    document.getElementById('store-info').textContent = `${storeName} - å–é¤æ™‚é–“ ${pickupTime}`;
    document.getElementById('store-overlay').style.display = 'none';
    renderCategories();
    renderMenu('beef');
  });
});

// æ¸²æŸ“é¡åˆ¥æŒ‰éˆ•
function renderCategories() {
  const nav = document.getElementById('categoryNav');
  nav.innerHTML = '';
  categories.forEach((cat, index) => {
    const btn = document.createElement('button');
    btn.textContent = cat.name; btn.dataset.id = cat.id;
    if (index === 0) btn.classList.add('active');
    btn.addEventListener('click', () => {
      document.querySelectorAll('.category-nav button').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      renderMenu(cat.id);
    });
    nav.appendChild(btn);
  });
}

// æ¸²æŸ“èœå–®é …ç›®ï¼ˆåªä½¿ç”¨æœ¬åœ°åœ–ç‰‡ï¼‰
function renderMenu(categoryId) {
  const menu = document.getElementById('menu');
  menu.innerHTML = '';
  const category = categories.find(cat => cat.id === categoryId);
  if (!category) return;
  category.items.forEach(item => {
    const card = document.createElement('div');
    card.className = 'item-card';

    const img = document.createElement('img');
    img.src = item.imageSrc || PLACEHOLDER;
    img.alt = item.name;
    img.onerror = () => { img.onerror = null; img.src = PLACEHOLDER; };
    card.appendChild(img);

    const info = document.createElement('div');
    info.className = 'item-info';
    const title = document.createElement('h3');
    title.textContent = item.name; info.appendChild(title);
    if (item.desc) {
      const desc = document.createElement('p');
      desc.textContent = item.desc; info.appendChild(desc);
    }

    const priceOpt = document.createElement('div');
    priceOpt.className = 'price-options';
    if (item.single != null) {
      const btnSingle = document.createElement('button');
      btnSingle.className = 'price-button';
      btnSingle.textContent = `å–®é» NT$${item.single}`;
      btnSingle.addEventListener('click', () => openCustomize(item, 'single'));
      priceOpt.appendChild(btnSingle);
    }
    if (item.set != null) {
      const btnSet = document.createElement('button');
      btnSet.className = 'price-button';
      btnSet.textContent = `å¥—é¤ NT$${item.set}`;
      btnSet.addEventListener('click', () => openCustomize(item, 'set'));
      priceOpt.appendChild(btnSet);
    }
    info.appendChild(priceOpt);
    card.appendChild(info);
    menu.appendChild(card);
  });
}

function openCustomize(item, choice) {
  selectedItem = { item, choice };
  document.getElementById('customize-title').textContent = `${item.name} - ${choice === 'set' ? 'å¥—é¤' : 'å–®é»'}`;
  const content = document.getElementById('customize-content');
  content.innerHTML = '';

  if (choice === 'set') {
    const sideGroup = document.createElement('div');
    sideGroup.className = 'form-group';
    sideGroup.appendChild(Object.assign(document.createElement('label'), { textContent: 'é¸æ“‡é…é¤' }));
    categories.find(c => c.id === 'sides').items.forEach((side, index) => {
      const row = document.createElement('div'); row.className = 'option-row';
      const radio = Object.assign(document.createElement('input'), { type: 'radio', name: 'side', value: side.id });
      if (index === 0) radio.checked = true;
      const label = document.createElement('span'); label.textContent = `${side.name} + NT$${side.single}`;
      row.appendChild(radio); row.appendChild(label); sideGroup.appendChild(row);
    });
    content.appendChild(sideGroup);

    const drinkGroup = document.createElement('div');
    drinkGroup.className = 'form-group';
    drinkGroup.appendChild(Object.assign(document.createElement('label'), { textContent: 'é¸æ“‡é£²æ–™' }));
    categories.find(c => c.id === 'drinks').items.forEach((drink, index) => {
      const row = document.createElement('div'); row.className = 'option-row';
      const radio = Object.assign(document.createElement('input'), { type: 'radio', name: 'drink', value: drink.id });
      if (index === 0) radio.checked = true;
      const label = document.createElement('span'); label.textContent = `${drink.name} + NT$${drink.single}`;
      row.appendChild(radio); row.appendChild(label); drinkGroup.appendChild(row);
    });
    content.appendChild(drinkGroup);

    const upgradeGroup = document.createElement('div');
    upgradeGroup.className = 'form-group';
    upgradeGroup.appendChild(Object.assign(document.createElement('label'), { textContent: 'é£²æ–™å‡ç´š' }));
    ['ä¸å‡ç´š', 'å‡ç´šå¤§æ¯ +10'].forEach((option, idx) => {
      const row = document.createElement('div'); row.className = 'option-row';
      const radio = Object.assign(document.createElement('input'), { type: 'radio', name: 'drink-upgrade', value: idx === 0 ? 'none' : 'large' });
      if (idx === 0) radio.checked = true;
      const label = document.createElement('span'); label.textContent = option;
      row.appendChild(radio); row.appendChild(label); upgradeGroup.appendChild(row);
    });
    content.appendChild(upgradeGroup);
  } else {
    const extrasGroup = document.createElement('div');
    extrasGroup.className = 'form-group';
    extrasGroup.appendChild(Object.assign(document.createElement('label'), { textContent: 'åŠ æ–™' }));
    const extras = [
      { id: 'cheese', name: 'èµ·å¸ +10', price: 10 },
      { id: 'bacon', name: 'åŸ¹æ ¹ +15', price: 15 },
      { id: 'egg', name: 'ç…è›‹ +15', price: 15 }
    ];
    extras.forEach(extra => {
      const row = document.createElement('div'); row.className = 'option-row';
      const chk = Object.assign(document.createElement('input'), { type: 'checkbox', name: 'extra', value: extra.id });
      chk.dataset.price = extra.price;
      const label = document.createElement('span'); label.textContent = extra.name;
      row.appendChild(chk); row.appendChild(label); extrasGroup.appendChild(row);
    });
    content.appendChild(extrasGroup);

    const removeGroup = document.createElement('div');
    removeGroup.className = 'form-group';
    removeGroup.appendChild(Object.assign(document.createElement('label'), { textContent: 'å»é™¤é…æ–™' }));
    ['ä¸åŠ æ´‹è”¥', 'ä¸åŠ é…¸é»ƒç“œ', 'ä¸åŠ ç•ªèŒ„'].forEach(removeOpt => {
      const row = document.createElement('div'); row.className = 'option-row';
      const chk = Object.assign(document.createElement('input'), { type: 'checkbox', name: 'remove', value: removeOpt });
      const label = document.createElement('span'); label.textContent = removeOpt;
      row.appendChild(chk); row.appendChild(label); removeGroup.appendChild(row);
    });
    content.appendChild(removeGroup);
  }

  const qtyGroup = document.createElement('div');
  qtyGroup.className = 'form-group';
  qtyGroup.appendChild(Object.assign(document.createElement('label'), { textContent: 'æ•¸é‡' }));
  const qtyControls = document.createElement('div');
  qtyControls.className = 'quantity-controls';
  const minus = document.createElement('button'); minus.textContent = '-';
  const qtyInput = Object.assign(document.createElement('input'), { type: 'number', value: 1, min: 1 });
  const plus = document.createElement('button'); plus.textContent = '+';
  minus.addEventListener('click', () => { let val = parseInt(qtyInput.value); if (val > 1) qtyInput.value = val - 1; });
  plus.addEventListener('click', () => { let val = parseInt(qtyInput.value); qtyInput.value = val + 1; });
  qtyControls.appendChild(minus); qtyControls.appendChild(qtyInput); qtyControls.appendChild(plus);
  qtyGroup.appendChild(qtyControls);
  content.appendChild(qtyGroup);
  document.getElementById('customize-overlay').style.display = 'flex';
}

document.getElementById('close-customize').addEventListener('click', () => {
  document.getElementById('customize-overlay').style.display = 'none';
});

document.getElementById('add-to-cart').addEventListener('click', () => {
  if (!selectedItem) return;
  const choice = selectedItem.choice;
  const basePrice = choice === 'set' ? selectedItem.item.set : selectedItem.item.single;
  let extrasTotal = 0; let optionsSummary = [];
  const qty = parseInt(document.querySelector('#customize-content input[type="number"]').value);

  if (choice === 'set') {
    const side = document.querySelector('input[name="side"]:checked').value;
    const drink = document.querySelector('input[name="drink"]:checked').value;
    const upgrade = document.querySelector('input[name="drink-upgrade"]:checked').value;
    const sideItem = categories.find(c => c.id === 'sides').items.find(i => i.id === side);
    const drinkItem = categories.find(c => c.id === 'drinks').items.find(i => i.id === drink);
    optionsSummary.push(`é…é¤: ${sideItem.name}`); optionsSummary.push(`é£²æ–™: ${drinkItem.name}`);
    let upgradeExtra = 0; if (upgrade === 'large') { upgradeExtra = 10; optionsSummary.push('é£²æ–™å‡ç´šå¤§æ¯ +10'); }
    extrasTotal += sideItem.single + drinkItem.single + upgradeExtra;
  } else {
    document.querySelectorAll('input[name="extra"]:checked').forEach(chk => {
      const price = parseInt(chk.dataset.price); extrasTotal += price; optionsSummary.push(chk.nextSibling.textContent);
    });
    document.querySelectorAll('input[name="remove"]:checked').forEach(chk => { optionsSummary.push(chk.value); });
  }

  const itemTotal = (basePrice + extrasTotal) * qty;
  cart.push({ name: selectedItem.item.name, type: choice, basePrice, options: optionsSummary, qty, extrasTotal, total: itemTotal });
  updateCartDisplay();
  document.getElementById('customize-overlay').style.display = 'none';
});

function updateCartDisplay() {
  const count = cart.reduce((acc, item) => acc + item.qty, 0);
  const cartBtn = document.getElementById('cart-button');
  if (count > 0) {
    cartBtn.style.display = 'flex';
    document.getElementById('cart-count').textContent = count;
  } else {
    cartBtn.style.display = 'none';
  }
}

document.getElementById('cart-button').addEventListener('click', () => {
  renderCart();
  document.getElementById('cart-overlay').style.display = 'flex';
});

document.getElementById('close-cart').addEventListener('click', () => {
  document.getElementById('cart-overlay').style.display = 'none';
});

function renderCart() {
  const cartItemsDiv = document.getElementById('cart-items');
  cartItemsDiv.innerHTML = '';
  let total = 0;
  cart.forEach((item, index) => {
    total += item.total;
    const div = document.createElement('div'); div.className = 'cart-item';
    const title = document.createElement('h4'); title.textContent = `${item.name} (${item.type === 'set' ? 'å¥—é¤' : 'å–®é»'})`; div.appendChild(title);
    const details = document.createElement('div'); details.className = 'details'; details.textContent = item.options.join(' / ') || 'ç„¡å®¢è£½åŒ–'; div.appendChild(details);
    const controls = document.createElement('div'); controls.className = 'cart-controls';
    const qtyCtrls = document.createElement('div'); qtyCtrls.className = 'quantity-controls';
    const minus = document.createElement('button'); minus.textContent = '-';
    const qty = Object.assign(document.createElement('input'), { type: 'number', value: item.qty, min: 1 });
    const plus = document.createElement('button'); plus.textContent = '+';
    minus.addEventListener('click', () => { if (item.qty > 1) { item.qty--; qty.value = item.qty; item.total = (item.basePrice + item.extrasTotal) * item.qty; renderCart(); } });
    plus.addEventListener('click', () => { item.qty++; qty.value = item.qty; item.total = (item.basePrice + item.extrasTotal) * item.qty; renderCart(); });
    qtyCtrls.appendChild(minus); qtyCtrls.appendChild(qty); qtyCtrls.appendChild(plus);
    controls.appendChild(qtyCtrls);
    const del = document.createElement('button'); del.textContent = 'åˆªé™¤'; del.className = 'btn secondary';
    del.addEventListener('click', () => { cart.splice(index, 1); renderCart(); updateCartDisplay(); });
    controls.appendChild(del);
    div.appendChild(controls);
    cartItemsDiv.appendChild(div);
  });
  document.getElementById('cart-total').textContent = total;
}

document.getElementById('checkout-btn').addEventListener('click', () => {
  if (cart.length === 0) { alert('è³¼ç‰©è»Šæ²’æœ‰ä»»ä½•å•†å“'); return; }
  document.getElementById('cart-overlay').style.display = 'none';
  renderCheckout();
  document.getElementById('checkout-overlay').style.display = 'flex';
});
document.getElementById('edit-order').addEventListener('click', () => {
  document.getElementById('checkout-overlay').style.display = 'none';
  document.getElementById('cart-overlay').style.display = 'flex';
});
document.getElementById('finish-order').addEventListener('click', () => {
  alert('è¨‚å–®å·²é€å‡ºï¼è¬è¬æ‚¨çš„ä½¿ç”¨ã€‚');
  cart = []; updateCartDisplay();
  document.getElementById('checkout-overlay').style.display = 'none';
});

function renderCheckout() {
  const summaryDiv = document.getElementById('checkout-summary');
  summaryDiv.innerHTML = '';
  let total = 0;
  cart.forEach(item => {
    total += item.total;
    const div = document.createElement('div'); div.className = 'cart-item';
    const title = document.createElement('h4'); title.textContent = `${item.name} x${item.qty} (${item.type === 'set' ? 'å¥—é¤' : 'å–®é»'})`; div.appendChild(title);
    const details = document.createElement('div'); details.className = 'details'; details.textContent = item.options.join(' / ') || 'ç„¡å®¢è£½åŒ–'; div.appendChild(details);
    const price = document.createElement('div'); price.className = 'details'; price.textContent = `é‡‘é¡ï¼šNT$${item.total}`; div.appendChild(price);
    summaryDiv.appendChild(div);
  });
  document.getElementById('checkout-total').textContent = total;
}
</script>
</body>
</html>
